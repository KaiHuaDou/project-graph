---
title: 2.0 更新内容
icon: CircleFadingArrowUp
---

在 2025 年 8 月，Project Graph 迎来一周年，并且发布 2.0 版本，本次更新内容如下：

## 多标签页功能 [#tabs]

2.0 版本引入了从去年就有用户一直期待的多标签页功能，在一个窗口内可以同时打开多个工程，并可以自由切换。

## `*.prg` 文件格式 [#prg]

现在不再使用从 PyQt 版本就开始使用的 `*.json` 文件格式，换成了 `*.prg` 格式，同时将普通的 JSON 改为了 MsgPack，以减小文件大小。

这样做还可以将图片文件直接嵌入到工程文件中，无需额外的引用。

## “暂存” [#stash]

在以前，如果软件崩溃或意外关闭，所有未保存的工作都会丢失。虽然有自动备份和自动保存功能，但是它们都存在缺陷。

- 自动备份：如果备份频率过高则会占用大量磁盘空间，如果频率过低则会备份不及时。
- 自动保存：如果文件过大，保存时间过长，则会导致软件卡顿。

因此，2.0 版本引入了“暂存”功能，类似 VSCode，在文件保存前可以将文件暂存到本地，同时不影响原始文件，在文件保存后会自动清理暂存文件。

如果软件意外关闭，可以直接选择“打开文件”，选择丢失的原始文件的位置，软件会自动恢复暂存文件。

如果你的硬盘速度非常慢，可以在设置中关闭暂存功能，以免影响软件流畅度。

## 提高浏览器内核版本要求 [#browser-version]

在此版本中，我们升级了各种框架的版本，浏览器内核版本要求也随之改变：

- Chrome 111
- Edge 111
- Android System WebView 111
- Safari 16.4

### macOS 系统要求 [#macos-version]

同时，随着 Safari 版本要求的变更，我们将 macOS 系统的最小版本要求改为 11.0 (Big Sur)。

如果你的 Mac 没有搭载 Safari 16.4 及以上版本，请按照以下步骤更新：

1. 打开系统设置中的“软件更新”页面
2. 更新“其他可用更新”中的“Safari 浏览器”

## 使用 URI 替代文件路径 [#uri]

在之前 Project Graph 使用文件路径来标识项目文件，现在换成了 URI：

|          | 路径                           | URI                           |
| -------: | ------------------------------ | ----------------------------- |
| 本地文件 | /home/user/project.prg         | file:///home/user/project.prg |
| 草稿文件 | Project Graph `(历史遗留原因)` | draft:[uuid]                  |
|   云存储 | ?                              | cloud:/project.prg            |

这是为了以后的云同步功能做铺垫，可以更好的区分不同类型的文件。

## 使用 Rolldown 打包前端 [#rolldown]

Vite 计划将由 Rust 驱动的 JavaScript 打包工具 Rolldown 集成进来，以提升构建的性能和功能。

Rolldown 是一个现代化、高性能的 JavaScript 打包工具，由 Rust 编写。它被设计为 Rollup 的替代品，旨在保持与现有生态系统兼容的同时，显著提升性能。

Rolldown 专注于三个主要原则：

- 速度：利用 Rust 的高性能进行构建
- 兼容性：能够与现有的 Rollup 插件一起工作
- 优化：拥有比 esbuild 和 Rollup 更先进的特性

同时，Project Graph 决定从 2.0 版本开始使用 Rolldown 打包前端，可能会使构建速度有所提升。

当然，使用 Rolldown 后可能会有一些问题，欢迎反馈。
